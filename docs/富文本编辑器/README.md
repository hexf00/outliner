
## 20220622 01:37
1. **确定**使用span来代替textNode，1规避data与dom不一致（vue会合并相邻的textNode）2可以为未来富文本样式预备
2. 统一了getDataIndex 代替  nodeIndexOf的应用，递归找到parent为el，确定为lv0容器
3. 确定删除事件需要手动实现）（2022年6月23日完成）

## 20220623 02:11
1. **确定** 了 `IPoS` 结构，可以全部替换
2. 实现了一种事件可拓展代码组织结构
3. 通过替换实现了删除
4. 替换返回的索引不正确，需要对新索引进行修正

## 2022/06/25 16:30
1. 使用handler的模块化设计实现了插入、删除
2. 支持了中文输入能力
3. TODO: 增强双链交互，双链逻辑进一步拆分
4. TODO: 与大纲编辑器结合
5. TODO: 移动版发布和测试

## 确定的 

1. 暂时不做md语法支持，数据格式暂时只用json

## 路线图

1. **重要** 对快捷键相关的进行插拔模块化设计，这是编辑器能够持续迭代的基础
2. 能用的编辑器，能够网络保存、载入，简单的权限，能够手机编辑和阅读
3. 检索和批量替换能力探索：单页、数据库级
4. todo能力探索

##  应用场景

1. todo能力，可以按任务的建立时间、完成事件进行排序
  1. 实现一：类似roam，事件存放在顶级块，但是这样只能是单一时间
  2. 实现二：存放在children块，主要问题是不美观，且交互不统一
  3. 实现三：存储在IAtom的元数据（由于没有撤销），需要防止不小心删除
  4. 实现四：存储ID在IAtom的元数据
  5. 实现五： 基于三、四，即时在block删除，也可以在特殊页面（可以是一个特殊的顶级block）查询到该todo，筛选引用为0的todo，进行批量删除

  结合android apk能力实现通知推送能力（长期）

2. 物品收纳整理

3. 概念网络

## 实现说明

1. 原则上需要避免交互对dom的改动，比如说删除vue有记录的dom，则vue会按index删除
2. 对于不能屏蔽的dom修改，比如说ime事件，我们要允许对dom修改，然后通过撤销来回退


## 实验结论

1. IME输入回多次触发  insertCompositionText ，但是对dom变化无影响