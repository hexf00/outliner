# 双链交互设计


## wolai细节1
1. 输入 `[` 判断前面一个字符是否为 `[` ,是则激活 双链上下文菜单
2. 继续输入，可以对已有顶级block进行搜索

## wolai细节2
1. 选中词语，出现操作上下文菜单，可以将选中词语变成双链（注意，这个菜单添加一个快捷菜单设计，允许将本片、或者所有内容中出现的该词语转换为双链）

## roam细节1
1. 输入任意字符，如果所处内容前后有`[[`、`]]`，则激活双链上下文菜单

## roam细节2
1. 选中词语，按`[`，则将词词语包裹在`]`，然后见roam细节1
2. 输入`[`，则自动补充`]`，然后见roam细节1



## 思考

roam自动补齐尾括号这个设计其实非常合理、高效，因为双链是我们的高频功能

极少情况才期望才是不需要补齐`]`，对于这种少数情况我们做一个删除即可。

wolai的设计其实不合理，限制了用户只能从前往后输入，且用户没有办法在输入的过程中激活双链上下文菜单。如果用户改为鼠标操作，1降低效率2还需要删除多余的方括号。
wolai的定位更多是一个协作文档，在链接能力上确实不够好。


## 总结

1. 支持自动补全
2. 只要在`[[]]`中输入，就激活双链上下文菜单
3. 通过双链上下文菜单将双链固化为所及所得
4. 删除`[`时，如果相邻字符是`]`，也要自动删除


## 关于嵌套双链

暂不考虑支持

## 双链上下文菜单

1. 可以点击操作
2. 可以对已有顶级块进行检索，速度要快
3. 可以通过上下候选
4. 按`esc`可以关闭菜单


